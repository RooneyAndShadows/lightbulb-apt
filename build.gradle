//file:noinspection VulnerableLibrariesLocal
buildscript {
    ext {
        group: 'com.github.rooneyandshadows'
        artifactId: 'lightbulb-annotation-processors'
        version: '1.0.6-RC2'
    }
}

plugins {
    id 'java-library'
    id 'maven-publish'
    id 'org.jetbrains.kotlin.jvm' version '1.8.10'
}

group 'com.github.rooneyandshadows'
version '1.1.0'

repositories {
    maven { url 'https://jitpack.io' }
    mavenCentral()
}

dependencies {
    implementation 'com.google.auto.service:auto-service:1.0.1'
    implementation 'com.squareup:javapoet:1.13.0'
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    api "com.github.rooneyandshadows:java-commons:1.0.7"
}

subprojects {
    afterEvaluate {
        publishing {
            repositories {
                mavenLocal()
            }
            publications {
                "$project.name"(MavenPublication) {
                    groupId project.group
                    artifactId project.name
                    version project.version
                    from components.java
                }
            }
        }
    }
}



compileKotlin {
    kotlinOptions {
        jvmTarget = "1.8"
    }
}

compileTestKotlin {
    kotlinOptions {
        jvmTarget = "1.8"
    }
}